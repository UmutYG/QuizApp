<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>QuizApp</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
    <div class="card" style="width: 50rem;">
        <div class="card-body">
          <h5 class="card-title " id="qTitle">Card title</h5>
          <p class="card-text" id="qText">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        </div>
        <ul class="list-group list-group-flush" id="ansList">
        </ul>
      
      <div class="button-next">
        <button class="btn btn-primary">Next Question</button>
    </div>
    </div>


   
    
  <script>
    "use strict"
    const ansList = document.querySelector("#ansList");
    const questionTitle = document.querySelector("#qTitle");
    const questionText = document.querySelector("#qText");
    const nextButton = document.querySelector(".button-next")
    let questionList = [
      new Question("Hangisi bir programlama dili değildir?", {"a":"java", "b":"python","c":"sql","d":"html"},"d"),
      new Question("Hangisi bir programlama dili değildir2?", {"a":"java", "b":"python","c":"sql","d":"html"},"d"),
      new Question("Hangisi bir programlama dili değildir3?", {"a":"java", "b":"python","c":"sql","d":"html"},"d")
                      ]
    let quizManager = new QuizManager(questionList);
    

    function Question(qText,answers,correctAns)
    {
      this.qText = qText;
      this.answers = answers;
      this.correctAns = correctAns;
    }

    function QuizManager(questions)
    {
      this.questions = questions;
      this.questionIndex = 0;
      this.getQuestion = function()
      {
        return this.questions[this.questionIndex];
      }
    }
    renderQuestion();
    
    function renderQuestion()
    {
      let question = quizManager.getQuestion();
      let optionsHtml = ``;
      questionTitle.textContent = quizManager.questionIndex+1 + ".soru";
      questionText.textContent = question.qText;
      for(let option in question.answers)
      {
        optionsHtml += `
        <li class="list-group-item option"><span>${option}</span>: ${question.answers[option]}</li>
        `
      }

      ansList.innerHTML = optionsHtml;
      for(let option of ansList.children)
      {
        option.addEventListener("click", checkAnswer);
      }
    }

    function checkAnswer()
    {

      let currentQuestion = quizManager.getQuestion();
      let isTrue =  this.querySelector("span").textContent == currentQuestion.correctAns ? true : false;
     
      if(isTrue)
      {
      console.log(this.classList.add("correct"));

      }
      else 
        console.log(this.classList.add("wrong"));

        for(let o of ansList.children)
      {
        console.log(o);
        o.classList.add("disabled");
      }
      nextButton.style.display = "block";
    }
    
    nextButton.addEventListener("click",function()
    {
      quizManager.questionIndex++;
      renderQuestion();
    });
    
    
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
  
  </body>
</html>